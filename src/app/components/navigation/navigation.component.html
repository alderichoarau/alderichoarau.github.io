<mat-toolbar class="portfolio-navbar" [class.scrolled]="isScrolled()">
  <div class="nav-container">
    <a href="#home" class="logo">
      <mat-icon class="logo-icon">code</mat-icon>
      <span class="logo-text">Aldéric</span>
    </a>
    
    <div class="nav-content">
      <nav class="nav-menu">
        <button mat-button (click)="navigateToSection('about')" class="nav-link">
          <mat-icon>person</mat-icon>
          <span>{{ 'nav.about' | translate }}</span>
        </button>
        <button mat-button (click)="navigateToSection('technologies')" class="nav-link">
          <mat-icon>code</mat-icon>
          <span>{{ 'nav.technologies' | translate }}</span>
        </button>
        <button mat-button [matMenuTriggerFor]="portfolioMenu" class="nav-link dropdown-trigger">
          <mat-icon>work</mat-icon>
          <span>{{ 'nav.portfolio' | translate }}</span>
          <mat-icon class="dropdown-arrow">keyboard_arrow_down</mat-icon>
        </button>
        <mat-menu #portfolioMenu="matMenu">
          <button mat-menu-item (click)="navigateToSection('projects')">
            <mat-icon>work</mat-icon>
            <span>{{ 'nav.projects' | translate }}</span>
          </button>
          <button mat-menu-item (click)="navigateToSection('experience')">
            <mat-icon>timeline</mat-icon>
            <span>{{ 'nav.experience' | translate }}</span>
          </button>
        </mat-menu>
        <button mat-button (click)="navigateToSection('certifications')" class="nav-link">
          <mat-icon>verified</mat-icon>
          <span>{{ 'nav.certifications' | translate }}</span>
        </button>
        <button mat-button (click)="navigateToSection('faq')" class="nav-link">
          <mat-icon>help_outline</mat-icon>
          <span>{{ 'nav.faq' | translate }}</span>
        </button>
        <button mat-button (click)="navigateToSection('contact')" class="nav-link">
          <mat-icon>contact_mail</mat-icon>
          <span>{{ 'nav.contact' | translate }}</span>
        </button>
        <a mat-raised-button color="primary" href="mailto:alderic.hoarau@gmail.com" class="cta-button">
          <mat-icon>send</mat-icon>
          <span>{{ 'nav.getInTouch' | translate }}</span>
        </a>
      </nav>
      
      <div class="language-switcher">
        <button mat-icon-button [matMenuTriggerFor]="langMenu" class="lang-trigger">
          <mat-icon>language</mat-icon>
        </button>
        <mat-menu #langMenu="matMenu">
          <button mat-menu-item (click)="changeLanguage('en')" [class.active]="currentLang() === 'en'">
            <img src="https://flagcdn.com/w20/gb.png" alt="English" class="flag-icon">
            EN
          </button>
          <button mat-menu-item (click)="changeLanguage('fr')" [class.active]="currentLang() === 'fr'">
            <img src="https://flagcdn.com/w20/fr.png" alt="Français" class="flag-icon">
            FR
          </button>
        </mat-menu>
      </div>
      
      <button mat-icon-button class="mobile-menu-toggle" (click)="toggleMobileMenu()">
        <mat-icon>{{ mobileMenuOpen() ? 'close' : 'menu' }}</mat-icon>
      </button>
    </div>
  </div>
  
  <!-- Mobile menu -->
  <div class="mobile-menu" [class.open]="mobileMenuOpen()">
    <div class="mobile-menu-overlay" (click)="closeMobileMenu()"></div>
    <nav class="mobile-nav">
      <button mat-button class="mobile-nav-link" (click)="navigateToSection('about')">
        <mat-icon>person</mat-icon>
        <span>{{ 'nav.about' | translate }}</span>
      </button>
      <button mat-button class="mobile-nav-link" (click)="navigateToSection('technologies')">
        <mat-icon>code</mat-icon>
        <span>{{ 'nav.technologies' | translate }}</span>
      </button>
      
      <!-- Portfolio section in mobile -->
      <div class="mobile-section-divider">
        <span class="section-title">{{ 'nav.portfolio' | translate }}</span>
      </div>
      <button mat-button class="mobile-nav-link mobile-sub-link" (click)="navigateToSection('projects')">
        <mat-icon>work</mat-icon>
        <span>{{ 'nav.projects' | translate }}</span>
      </button>
      <button mat-button class="mobile-nav-link mobile-sub-link" (click)="navigateToSection('experience')">
        <mat-icon>timeline</mat-icon>
        <span>{{ 'nav.experience' | translate }}</span>
      </button>
      <button mat-button class="mobile-nav-link" (click)="navigateToSection('certifications')">
        <mat-icon>verified</mat-icon>
        <span>{{ 'nav.certifications' | translate }}</span>
      </button>
      <button mat-button class="mobile-nav-link" (click)="navigateToSection('faq')">
        <mat-icon>help_outline</mat-icon>
        <span>{{ 'nav.faq' | translate }}</span>
      </button>
      <button mat-button class="mobile-nav-link" (click)="navigateToSection('contact')">
        <mat-icon>contact_mail</mat-icon>
        <span>{{ 'nav.contact' | translate }}</span>
      </button>
      <!-- Language Switcher Mobile -->
      <div class="mobile-language-section">
        <div class="mobile-section-divider">
          <span class="section-title">{{ 'nav.language' | translate }}</span>
        </div>
        <div class="mobile-language-options">
          <button 
            mat-button 
            class="mobile-lang-button" 
            [class.active]="currentLang() === 'fr'"
            (click)="changeLanguage('fr'); closeMobileMenu()">
            <img src="https://flagcdn.com/w20/fr.png" alt="Français" class="flag-icon">
            <span>{{ 'nav.french' | translate }}</span>
          </button>
          <button 
            mat-button 
            class="mobile-lang-button" 
            [class.active]="currentLang() === 'en'"
            (click)="changeLanguage('en'); closeMobileMenu()">
            <img src="https://flagcdn.com/w20/gb.png" alt="English" class="flag-icon">
            <span>{{ 'nav.english' | translate }}</span>
          </button>
        </div>
      </div>

      <div class="mobile-cta">
        <a mat-raised-button color="primary" href="mailto:alderic.hoarau@gmail.com" (click)="closeMobileMenu()" class="mobile-cta-button">
          <mat-icon>send</mat-icon>
          <span>{{ 'nav.getInTouch' | translate }}</span>
        </a>
      </div>
    </nav>
  </div>
</mat-toolbar>
